<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Config By Bahman - Ù†Ø³Ø®Ù‡ Ø®ÙÙ†</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ğŸ”„ Loading Screen 3D -->
<div id="loading">
  <h2>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Config By Bahman...</h2>
</div>

<!-- ğŸ” ÙˆØ±ÙˆØ¯ -->
<div id="lock" class="card" style="display:none;">
  <h2>ğŸ” ÙˆØ±ÙˆØ¯</h2>
  <p>Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù† Ú©Ø§Ù†ÙÛŒÚ¯ Ø±Ù…Ø² Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
  <div class="password-wrapper">
    <input id="password" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
    <span id="togglePass" class="show-pass">ğŸ‘ï¸</span>
  </div>
  <button onclick="checkPass()">ÙˆØ±ÙˆØ¯</button>
</div>

<!-- ğŸ”“ Ù…Ø­ØªÙˆØ§ -->
<div id="content" style="display:none">
  <h1 class="title">ğŸš€ Config By Bahman</h1>
  <p class="subtitle" id="updateTime"></p>
  <p class="subtitle" id="visitCounter"></p>
  <p class="subtitle" id="historyTitle">ğŸ“œ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø´Ù…Ø§:</p>
  <ul id="historyList"></ul>

  <!-- Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ -->
  <div class="card" data-id="cfg1">
    <h3>Config #1</h3>
    <textarea id="cfg1" readonly>vless://example1...</textarea>
    <div class="buttons">
      <button onclick="copyConfig('cfg1')">ğŸ“‹ Ú©Ù¾ÛŒ</button>
      <a class="download" href="configs/config1.txt" download onclick="addHistory('cfg1')">â¬‡ï¸ Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
      <button class="like-btn" onclick="likeConfig(this, 'cfg1')">â¤ï¸ <span>0</span></button>
    </div>
  </div>

  <div class="card" data-id="cfg2">
    <h3>Config #2</h3>
    <textarea id="cfg2" readonly>vless://example2...</textarea>
    <div class="buttons">
      <button onclick="copyConfig('cfg2')">ğŸ“‹ Ú©Ù¾ÛŒ</button>
      <a class="download" href="configs/config2.txt" download onclick="addHistory('cfg2')">â¬‡ï¸ Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
      <button class="like-btn" onclick="likeConfig(this, 'cfg2')">â¤ï¸ <span>0</span></button>
    </div>
  </div>

</div>

<!-- Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ú©Ù¾ÛŒ Ùˆ Ø§ÙÚ©Øª ØµÙˆØªÛŒ -->
<audio id="copySound" src="copy-sound.mp3" preload="auto"></audio>
<div id="notify">âœ… Ú©Ù¾ÛŒ Ø´Ø¯!</div>

<script>
const SITE_PASSWORD = "MMDBAHMAN";

/* Ù†Ù…Ø§ÛŒØ´/Ø¹Ø¯Ù… Ù†Ù…Ø§ÛŒØ´ Ø±Ù…Ø² */
document.getElementById("togglePass").addEventListener("click", function(){
  const input = document.getElementById("password");
  input.type = (input.type === "password") ? "text" : "password";
});

/* Ú†Ú© Ø±Ù…Ø² Ùˆ Ø§ÙÚ©Øª ÙˆØ±ÙˆØ¯ */
function checkPass() {
  const input = document.getElementById("password").value;
  if(input === SITE_PASSWORD){
    document.getElementById("lock").classList.add("unlock");
    setTimeout(()=>{
      document.getElementById("lock").style.display="none";
      document.getElementById("content").style.display="block";
      loadHistory();
    }, 800);
  } else {
    alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ âŒ");
  }
}

/* Ú©Ù¾ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø§ Ø§ÙÚ©Øª ØµÙˆØªÛŒ Ùˆ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† */
function copyConfig(id){
  const text = document.getElementById(id);
  navigator.clipboard.writeText(text.value);
  document.getElementById('notify').style.opacity=1;
  document.getElementById('copySound').play();
  addHistory(id);
  setTimeout(()=>{document.getElementById('notify').style.opacity=0},1500);
}

/* â¤ï¸ Ù„Ø§ÛŒÚ© Ø¨Ø§ Ù†Ø¦ÙˆÙ† Ùˆ Ø°Ø®ÛŒØ±Ù‡ localStorage */
function likeConfig(btn,id){
  let count = parseInt(localStorage.getItem('like_'+id)||0);
  count++;
  localStorage.setItem('like_'+id,count);
  btn.querySelector('span').innerText=count;
  // Ø§ÙÚ©Øª Ø±Ù‚Øµ Ù†Ø¦ÙˆÙ†
  const card = btn.closest('.card');
  card.classList.add('like-anim');
  setTimeout(()=>card.classList.remove('like-anim'),500);
}

/* ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ú©Ù¾ÛŒ/Ø¯Ø§Ù†Ù„ÙˆØ¯ */
function addHistory(id){
  let history = JSON.parse(localStorage.getItem('history')||'[]');
  if(!history.includes(id)) history.push(id);
  localStorage.setItem('history',JSON.stringify(history));
  loadHistory();
}

function loadHistory(){
  const historyList=document.getElementById('historyList');
  const history=JSON.parse(localStorage.getItem('history')||'[]');
  historyList.innerHTML='';
  history.forEach(h=>{
    const text=document.getElementById(h).value;
    const li=document.createElement('li');
    li.textContent=text.substring(0,50)+'...';
    historyList.appendChild(li);
  });
}

/* ØªØ§Ø±ÛŒØ® Ø¢Ù¾Ø¯ÛŒØª Ùˆ Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ */
document.getElementById("updateTime").innerText="Ø¢Ø®Ø±ÛŒÙ† Ø¢Ù¾Ø¯ÛŒØª: "+new Date().toLocaleString("fa-IR");
let visits=parseInt(localStorage.getItem("visits")||0); visits++; localStorage.setItem("visits",visits);
document.getElementById("visitCounter").innerText="ğŸ‘ Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø´Ù…Ø§: "+visits;

/* ØµÙØ­Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ 3D */
window.addEventListener('load',()=>{
  const loader=document.getElementById('loading');
  loader.style.opacity=0;
  setTimeout(()=>{loader.style.display='none';document.getElementById("lock").style.display="block";},800);
});
</script>
</body>
</html>
