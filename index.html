<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>کانفیگ‌های رایگان</title>

<style>
body{
  margin:0;
  font-family:tahoma;
  background:#0e0e0e;
  color:#fff;
}

/* ورود */
#login{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}
#login input{
  padding:10px;
  border:none;
  border-radius:5px;
  margin-bottom:10px;
}
#login button{
  padding:10px 20px;
  background:#ff00ff;
  color:white;
  border:none;
  border-radius:5px;
}

/* سایت */
#site{
  display:none;
  padding:20px;
}

header{
  text-align:center;
  margin-bottom:20px;
}

.search{
  width:100%;
  padding:10px;
  border-radius:5px;
  border:none;
  margin-bottom:20px;
}

.config{
  background:#1a1a1a;
  border-radius:10px;
  padding:15px;
  margin-bottom:15px;
  box-shadow:0 0 10px #ff00ff55;
}

.btn{
  padding:8px 12px;
  border:none;
  border-radius:5px;
  margin:5px;
  cursor:pointer;
}

.copy{background:#00ccff;}
.like{background:#ff0066;}
.telegram{background:#229ED9; width:100%;}

.comment{
  width:100%;
  margin-top:10px;
  padding:8px;
  border-radius:5px;
  border:none;
}
</style>
</head>

<body>

<!-- ورود -->
<div id="login">
  <h2>ورود به سایت</h2>
  <input type="password" id="password" placeholder="رمز ورود">
  <button onclick="login()">ورود</button>
</div>

<!-- سایت -->
<div id="site">

<header>
  <h1>کانفیگ‌های رایگان</h1>
  <input class="search" id="search" placeholder="جستجو..." onkeyup="searchConfigs()">
</header>

<div class="config">
  <h3 class="title">کانفیگ نمونه اول</h3>
  <button class="btn copy" onclick="copyText('CONFIG-ONE')">کپی کانفیگ</button>
  <button class="btn like" onclick="like(this)">❤️ <span>0</span></button>
  <input class="comment" placeholder="نظر خودتو بنویس">
</div>

<div class="config">
  <h3 class="title">کانفیگ نمونه دوم</h3>
  <button class="btn copy" onclick="copyText('CONFIG-TWO')">کپی کانفیگ</button>
  <button class="btn like" onclick="like(this)">❤️ <span>0</span></button>
  <input class="comment" placeholder="نظر خودتو بنویس">
</div>

<button class="btn telegram" onclick="window.location.href='https://t.me/yourchannel'">
عضویت در تلگرام
</button>

</div>

<script>
/* ورود با رمز */
function login(){
  const pass=document.getElementById("password").value;
  if(pass==="1234"){
    document.getElementById("login").style.display="none";
    document.getElementById("site").style.display="block";
    loadLikes();
  }else{
    alert("رمز اشتباهه");
  }
}

/* کپی کانفیگ */
function copyText(text){
  navigator.clipboard.writeText(text);
  alert("کپی شد");
}

/* ساخت ID از اسم کانفیگ */
function makeId(text){
  return text.toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,'');
}

/* لایک واقعی */
function like(btn){
  const box = btn.closest(".config");
  const title = box.querySelector(".title").innerText;
  const id = makeId(title);
  const key = "like_" + id;

  let liked = localStorage.getItem(key) === "true";
  let span = btn.querySelector("span");
  let count = parseInt(span.innerText);

  if(!liked){
    count++;
    localStorage.setItem(key,"true");
    btn.style.opacity="0.6";
  }else{
    count--;
    localStorage.setItem(key,"false");
    btn.style.opacity="1";
  }

  span.innerText = count;
}

/* لود لایک بعد رفرش */
function loadLikes(){
  document.querySelectorAll(".config").forEach(box=>{
    const title = box.querySelector(".title").innerText;
    const id = makeId(title);
    const key = "like_" + id;
    const btn = box.querySelector(".like");
    const span = btn.querySelector("span");

    if(localStorage.getItem(key)==="true"){
      btn.style.opacity="0.6";
    }
  });
}

/* جستجو */
function searchConfigs(){
  let input=document.getElementById("search").value.toLowerCase();
  document.querySelectorAll(".config").forEach(c=>{
    let t=c.querySelector(".title").innerText.toLowerCase();
    c.style.display=t.includes(input)?"block":"none";
  });
}
</script>

</body>
</html>
