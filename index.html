<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Config By Bahman</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Loading -->
<div id="loading">
  <div class="loader">
    <span></span><span></span><span></span>
  </div>
  <h2>در حال بارگذاری Config By Bahman...</h2>
</div>

<!-- Login -->
<div id="lock" class="card" style="display:none;">
  <h2>🔐 ورود</h2>
  <p>برای دیدن کانفیگ رمز را وارد کنید</p>

  <div class="password-wrapper">
    <input id="password" type="password" placeholder="رمز عبور">
    <span id="togglePass" class="show-pass">👁️</span>
  </div>

  <button onclick="checkPass()">ورود</button>
</div>

<!-- Content -->
<div id="content" style="display:none">

  <h1 class="title">🚀 Config By Bahman</h1>
  <p class="subtitle" id="updateTime"></p>
  <p class="subtitle" id="visitCounter"></p>
  <p class="subtitle" id="onlineUsers">👥 کاربران آنلاین: 1</p>

  <div class="card">
    <h3>Config #1</h3>
    <textarea id="cfg1" readonly>vless://example...</textarea>
    <button onclick="copyConfig('cfg1')">📋 کپی</button>
    <button class="like-btn" onclick="likeConfig(this,'cfg1')">❤️ <span>0</span></button>
  </div>

  <div class="card telegram-card">
    <h3>📢 کانال تلگرام</h3>
    <a class="download" href="https://t.me/filter_bahman" target="_blank">عضویت</a>
  </div>

</div>

<div id="notify">✅ کپی شد!</div>

<script>
const SITE_PASSWORD = "MMDBAHMAN";

/* show pass */
togglePass.onclick = () => {
  password.type = password.type === "password" ? "text" : "password";
};

/* neon login */
function checkPass() {
  const lock = document.getElementById("lock");
  if (password.value === SITE_PASSWORD) {
    lock.classList.add("neon-success");
    document.body.classList.add("neon-bg");

    setTimeout(() => {
      lock.style.display = "none";
      content.style.display = "block";
      document.body.classList.remove("neon-bg");
    }, 900);
  } else {
    lock.style.animation = "shake 0.4s";
    setTimeout(()=>lock.style.animation="",400);
    alert("رمز اشتباه است ❌");
  }
}

/* copy */
function copyConfig(id){
  navigator.clipboard.writeText(document.getElementById(id).value);
  notify.style.opacity=1;
  setTimeout(()=>notify.style.opacity=0,1500);
}

/* like */
function likeConfig(btn,id){
  let c = +localStorage.getItem("like_"+id)||0;
  c++;
  localStorage.setItem("like_"+id,c);
  btn.querySelector("span").innerText=c;
}

/* info */
updateTime.innerText="آخرین آپدیت: "+new Date().toLocaleString("fa-IR");
let v=+localStorage.getItem("visits")||0;
localStorage.setItem("visits",++v);
visitCounter.innerText="👁 بازدید شما: "+v;

setInterval(()=>{
  onlineUsers.innerText="👥 کاربران آنلاین: "+(Math.floor(Math.random()*5)+1);
},5000);

/* loading */
window.onload=()=>{
  loading.style.opacity=0;
  setTimeout(()=>{
    loading.style.display="none";
    lock.style.display="block";
  },600);
};
</script>

</body>
</html>
