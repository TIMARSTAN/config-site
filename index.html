<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Config By Bahman</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Theme Toggle -->
<button id="themeToggle">🌙</button>

<!-- Loading -->
<div id="loading">
  <div class="loader">
    <span></span><span></span><span></span>
  </div>
  <h2>در حال بارگذاری Config By Bahman...</h2>
</div>

<!-- Login -->
<div id="lock" class="card" style="display:none;">
  <h2>🔐 ورود عمومی</h2>
  <p>برای دیدن کانفیگ رمز را وارد کنید</p>

  <div class="password-wrapper">
    <input id="password" type="password" placeholder="رمز عبور">
    <span id="togglePass" class="show-pass">👁️</span>
  </div>

  <button onclick="checkPass()">ورود</button>
</div>

<!-- VIP Lock -->
<div id="vipLock" class="card" style="display:none;">
  <h2>⭐ ورود VIP</h2>
  <input id="vipPass" type="password" placeholder="رمز VIP">
  <button onclick="checkVip()">ورود VIP</button>
</div>

<!-- Content -->
<div id="content" style="display:none">

  <h1 class="title">🚀 Config By Bahman</h1>
  <p class="subtitle" id="onlineUsers">👥 کاربران آنلاین: ...</p>

  <!-- Normal Config -->
  <div class="card">
    <h3>Config Free</h3>
    <textarea id="cfg1" readonly>vless://FREE-CONFIG...</textarea>
    <button onclick="copyConfig('cfg1')">📋 کپی</button>
  </div>

  <!-- VIP Config -->
  <div class="card vip">
    <h3>⭐ Config VIP</h3>
    <textarea id="vipCfg" readonly>vless://VIP-CONFIG...</textarea>
    <button onclick="copyConfig('vipCfg')">📋 کپی</button>
  </div>

</div>

<div id="notify">✅ کپی شد!</div>

<script>
/* ====== PASSWORDS ====== */
const SITE_PASSWORD = "MMDBAHMAN";
const VIP_PASSWORD  = "VIPBAHMAN";

/* ====== SHOW PASS ====== */
togglePass.onclick = () => {
  password.type = password.type === "password" ? "text" : "password";
};

/* ====== LOGIN ====== */
function checkPass(){
  if(password.value === SITE_PASSWORD){
    lock.classList.add("neon-success");
    setTimeout(()=>{
      lock.style.display="none";
      vipLock.style.display="block";
    },800);
  } else alert("رمز اشتباه ❌");
}

/* ====== VIP LOGIN ====== */
function checkVip(){
  if(vipPass.value === VIP_PASSWORD){
    vipLock.classList.add("neon-success");
    setTimeout(()=>{
      vipLock.style.display="none";
      content.style.display="block";
    },800);
  } else alert("رمز VIP اشتباه ❌");
}

/* ====== COPY ====== */
function copyConfig(id){
  navigator.clipboard.writeText(document.getElementById(id).value);
  notify.style.opacity=1;
  setTimeout(()=>notify.style.opacity=0,1500);
}

/* ====== THEME ====== */
const toggle=document.getElementById("themeToggle");
toggle.onclick=()=>{
  document.body.classList.toggle("neon");
  localStorage.setItem("theme",
    document.body.classList.contains("neon")?"neon":"dark");
};
if(localStorage.getItem("theme")==="neon"){
  document.body.classList.add("neon");
}

/* ====== ONLINE USERS (Cloudflare) ====== */
/* 🔴 این URL رو بعداً جایگزین می‌کنی */
const WORKER_URL = "https://your-worker-name.workers.dev";

async function updateOnline(){
  try{
    const r = await fetch(WORKER_URL);
    const d = await r.json();
    onlineUsers.innerText="👥 کاربران آنلاین: "+d.online;
  }catch{
    onlineUsers.innerText="👥 کاربران آنلاین: -";
  }
}
setInterval(updateOnline,5000);
updateOnline();

/* ====== LOADING ====== */
window.onload=()=>{
  loading.style.opacity=0;
  setTimeout(()=>{
    loading.style.display="none";
    lock.style.display="block";
  },600);
};
</script>

</body>
</html>
